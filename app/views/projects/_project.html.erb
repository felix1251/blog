<%= javascript_include_tag "https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js", "data-turbo-track": "reload"  %>
<%= stylesheet_link_tag "https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/monokai.min.css", "data-turbo-track": "reload" %>

<%= javascript_include_tag "https://cdnjs.cloudflare.com/ajax/libs/quill/1.3.7/quill.min.js", "data-turbo-track": "reload"  %>
<%= stylesheet_link_tag "https://cdn.quilljs.com/1.3.6/quill.bubble.css", "data-turbo-track": "reload" %>

<div class="primary-text-color" data-controller="project" id="<%= dom_id project %>">

  <div class="relative flex w-full h-56">
    <div class="absolute w-full h-full bg-black opacity-40"></div>
    <h1 class="absolute text-white text-[3rem] font-normal" style='left:50%; top:50%; transform: translate(-50%, -50%)'><%= project.title %></h1>
    <img class="w-full h-full object-cover object-center" src="<%= rails_blob_url(project.img) %>" loading="lazy">
  </div>

  <p class="my-5">
    <span class="text-xl">"</span><%= project.on_card %><span class="text-xl">"</span>
  </p>

  <div class="my-5" data-project-target="quillcontent" >
    <%= project.content.html_safe %>
  </div>

  <p class="my-5">
    <strong class="block font-medium mb-1">Project start:</strong>
    <%= project.project_start.strftime("%B %Y") %>
  </p>

  <p class="my-5">
    <strong class="block font-medium mb-1">Project end:</strong>
    <%= project.project_end.strftime("%B %Y") rescue "present" %>
  </p>

  <% if action_name != "show" %>
    <%= link_to "Show this project", project, class: "rounded-lg py-3 px-5 bg-gray-100 font-medium" %>
    <%= link_to 'Edit this project', edit_project_path(project), class: "rounded-lg py-3 ml-2 px-5 bg-gray-100 font-medium" %>
  <% end %>
</div>